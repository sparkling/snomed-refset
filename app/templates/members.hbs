{{partial "modal/commit"}}

<!-- ************** -->
<!-- * HEADER NAV * -->
<!-- ************** -->
<header class="nav">
  <nav class="row">
    <div class="small-12 columns">
      <ul class="breadcrumbs">
        <li>
          {{#link-to 'refsets'}}Refsets{{/link-to}}
        </li>
        <li class="current">
          <a href="javascript:void(0)">Refset</a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<!-- HEADING -->
<header class="row sub">
  <!-- TITLE -->
  <div class="small-6 medium-4 columns">
    <h2 class="subheader"><span>{{title}}</span>
      <a style="margin-left: 0.5em; color: skyblue" data-options="align:bottom" href="javascript:void(0)" data-dropdown="download-dropdown">
        <span data-tooltip data-selector="download" data-options="disable_for_touch:false" class="tip-top radius fa fa-cloud-download"  {{bind-attr title="downloadPopupText"}}></span>          
      </a>
      <ul id="download-dropdown" class="f-dropdown" data-dropdown-content>
        <li><a target="_blank" {{bind-attr href='downloadJsonUrl'}}>JSON</a></li>
        <li><a target="_blank" {{bind-attr href='downloadXmlUrl'}}>XML</a></li>
        <li><a target="_blank" {{bind-attr href='downloadRf2Url'}}>RF2</a></li>
      </ul>
    </h2>
  </div>
  <!-- NAVIGATION -->
  <nav class="small-6 medium-8 columns navigation top">
    <div class="button-bar">
      <ul class="button-group round">
        <li>
          <a href="javascript:void(0)" class="secondary button tiny releases disabled">Rules (coming)</a>
        </li>        
        <li>{{#link-to 'members'  class="secondary button tiny members disabled"}}Members{{/link-to}}</li>
        <li>{{#link-to 'versions' class="secondary button tiny versions"}}Versions{{/link-to}}</li>
        <li>{{#link-to 'releases' class="secondary button tiny versions"}}Releases{{/link-to}}</li>
      </ul>
    </div>
  </nav>
</header>

<!-- ********** -->
<!-- * ALERTS * -->
<!-- ********** -->
<section id="alerts">
  {{#if hasPendingChanges}}
    <div class="row alert pending">
      <!-- CHANGES PENDING -->
      <div class="small-12 columns">
        <div data-alert id="alert2" class="alert-box success radius" >
          <span>There are changes pending</span>
          <div class="actions" style="float: right; font-size: 1.4em; margin-right: -0.75em; margin-top: -0.15em">
            <!-- PENDING CHANGES ICON -->
            <a href="javascript:void(0)" class="show-changes icon" style="color:lightgrey; margin-right: 0.5em">
              <span data-tooltip data-selector="pending" data-options="disable_for_touch:false" class="radius fa fa-puzzle-piece" title="See Pending Changes"></span>
            </a>
            <!-- CREATE VERSION ICON -->
            <a href="javascript:void(0)" class="icon commit" style="color: white" {{action 'showCommitModal'}}>
              <span data-tooltip data-selector="commit" data-options="disable_for_touch:false" class="radius tip-bottom fa fa-tags" title="Commit Changes"></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  {{/if}}
  {{render 'undo-alert' alert}}
</section>

{{members-list showDeleteMember=showDeleteMember totalMembers=controllers.refset.membersPage.totalSize members=controllers.refset.membersPage.members pageSize=pageSize changePage="changePage" sortMembers="sortMembers" deleteMember="delete" doFilter="doFilter"}}  

<!-- MAIN ACTION -->
<div class="main action pagination row bottom">
  <!-- ADD ICON -->
  <div class="columns small-1 icon add">
    {{#link-to 'import.file' action='clearTooltipAndTransitionToImport'}}
      <span data-tooltip data-selector="import" data-options="disable_for_touch:false" class="radius tip-right fa fa-plus-circle" title="Add Members"></span>
    {{/link-to}}
  </div>
</div> 